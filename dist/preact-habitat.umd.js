!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("preact")):"function"==typeof define&&define.amd?define(["preact"],n):e.preactHabitat=n(e.preact)}(this,function(e){e="default"in e?e.default:e;var n=function(e){return e.replace(/-([a-z])/gi,function(e,n){return n.toUpperCase()})},t=function(){return document.currentScript||function(){var e=document.getElementsByTagName("script");return e[e.length-1]}()},r=function(e,t){void 0===t&&(t={});var r=e.attributes,i=Object.assign({},t);return Object.keys(r).forEach(function(e){if(r.hasOwnProperty(e)){var t=r[e].name;if(!t||"string"!=typeof t)return!1;var o=t.split(/(data-props?-)/).pop()||"";if(o=n(o),t!==o){var a=r[e].nodeValue;i[o]=a}}}),[].forEach.call(e.getElementsByTagName("script"),function(e){var n={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type"))return;try{n=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}Object.assign(i,n)}}),i},i=function(e){var n=e.attributes,t=null;return Object.keys(n).forEach(function(e){if(n.hasOwnProperty(e)){"data-mount-in"===n[e].name&&(t=n[e].nodeValue)}}),t},o=function(e){var n=e.selector,r=e.inline,o=e.clientSpecified;console.log("SEARCH HOST");var a=[],c=t();if(!0===r){console.log("inline");var u=c.parentNode;console.log(c),console.log("parent",u),a.push(u)}return!0!==o||n||(n=i(c)),n&&[].forEach.call(document.querySelectorAll(n),function(e){a.push(e)}),console.log(a),a},a=function(n,t,i,o,a){t.forEach(function(t){var c=t;if(!c._habitat){c._habitat=!0;var u=r(t,a)||a;return o&&(c.innerHTML=""),e.render(e.h(n,u),c,i)}})};return function(e){var n=e,t=!1;return{render:function(e){void 0===e&&(e={});var r=e.selector;void 0===r&&(r=null);var i=e.inline;void 0===i&&(i=!1);var c=e.clean;void 0===c&&(c=!1);var u=e.clientSpecified;void 0===u&&(u=!1);var l=e.defaultProps;void 0===l&&(l={});var f=o({selector:r,inline:i,clientSpecified:u}),d=function(){if(f.length>0&&0==t){var e=o({selector:r,inline:i,clientSpecified:u});return console.log("RENDERING WIDGET"),t=!0,a(n,e,null,c,l)}};d(),document.addEventListener("DOMContentLoaded",d),document.addEventListener("load",d)}}}});
//# sourceMappingURL=preact-habitat.umd.js.map